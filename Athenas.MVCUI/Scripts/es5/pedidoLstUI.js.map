{"version":3,"sources":["../es6/pedido/pedidoLstUI.js"],"names":["PedidoUI","getFiltros","arrFiltros","AthenasNet","Mant","generarTabla","lstPedidos","data","filas","elimina","recibe","iniCodigo","urlRecibir","MVC_URL_BASE","compilaTemplate","ID_TEMP_TBL_BODY","SEL_TBL_BODY","$","SEL_TBL_MANT","DataTable","getBtnPostRecibir","document","getElementById","setProveedor","proveedor","inRzSocial","inDireccion","inTelefono","value","RzSocial","Direccion","Telefono","setProducto","producto","inCodigo","inDescripcion","inPrecio","inStock","Codigo","Descripcion","PrecioCompra","StockActual","getBtnBuscarProveedor","getBtnBuscarProducto","getBtnAgregarDet","getInputCantidad","getFormPedido","setTotal","total","getModalBuscar","getModalContentBuscar","querySelector","getTblModalBuscar","getTblDetalle","setModalBuscarData","setDetalleData","abreModalPedido","modal","setModalPedidoData","pedido","setModalPedidoDetData","validaEnvioPedido","esValido","classList","add","remove","validaProvSeleccionado","validaProdSeleccionado","validaCantidadDetalle","validaDetalle","window","addEventListener","tempDetPedidoTbl","Handlebars","registerPartial","innerHTML"],"mappings":"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","sourcesContent":["\r\nconst PedidoUI = () => {\r\n    //Para el listado\r\n    const getFiltros = () => {\r\n        const arrFiltros = ['Proveedor'];\r\n\r\n        return AthenasNet.Mant.getFiltros(arrFiltros);\r\n\r\n    }\r\n\r\n    const generarTabla = (lstPedidos) => {\r\n\r\n        const data = {\r\n            filas: lstPedidos,\r\n            elimina: true,\r\n            recibe: true,\r\n            iniCodigo: 'PED',\r\n            urlRecibir: AthenasNet.MVC_URL_BASE + 'Pedido/Recibir'\r\n        }\r\n\r\n        AthenasNet.compilaTemplate(AthenasNet.ID_TEMP_TBL_BODY, data, AthenasNet.Mant.SEL_TBL_BODY);\r\n        $(AthenasNet.Mant.SEL_TBL_MANT).DataTable();\r\n    }\r\n\r\n    //Para recibir el pedido\r\n\r\n    const getBtnPostRecibir = () => document.getElementById('btn-pedido-recibir');\r\n\r\n\r\n    //Para el registro\r\n\r\n    const setProveedor = (proveedor) => {\r\n\r\n        const inRzSocial = document.getElementById('Proveedor.RzSocial');\r\n        const inDireccion = document.getElementById('Proveedor.Direccion');\r\n        const inTelefono = document.getElementById('Proveedor.Telefono');\r\n\r\n        inRzSocial.value = proveedor.RzSocial;\r\n        inDireccion.value = proveedor.Direccion;\r\n        inTelefono.value = proveedor.Telefono;\r\n    }\r\n\r\n    const setProducto = (producto) => {\r\n\r\n        const inCodigo = document.getElementById('Producto.Codigo');\r\n        const inDescripcion = document.getElementById('Producto.Descripcion');\r\n        const inPrecio = document.getElementById('Producto.PrecioCompra');\r\n        const inStock = document.getElementById('Producto.StockActual');\r\n\r\n        inCodigo.value = producto.Codigo;\r\n        inDescripcion.value = producto.Descripcion;\r\n        inPrecio.value = producto.PrecioCompra;\r\n        inStock.value = producto.StockActual;\r\n\r\n    }\r\n\r\n    const getBtnBuscarProveedor = () => document.getElementById('btn-buscar-proveedor');\r\n\r\n    const getBtnBuscarProducto = () => document.getElementById('btn-buscar-producto');\r\n\r\n    const getBtnAgregarDet = () => document.getElementById('btn-agregar-detalle');\r\n\r\n    const getInputCantidad = () => document.getElementById('Producto.Cantidad');\r\n\r\n    const getFormPedido = () => document.getElementById('form-pedido');\r\n\r\n    const setTotal = (total) => document.getElementById('txt-total').value = total;\r\n\r\n    const getModalBuscar = () => $('#modalBuscar');\r\n\r\n    const getModalContentBuscar = () => document.querySelector('#modalBuscar .modal-content');\r\n\r\n    const getTblModalBuscar = () => document.getElementById('tbl-modal-buscar');\r\n\r\n    const getTblDetalle = () => document.getElementById('tb-detalle');\r\n\r\n    const setModalBuscarData = (data) => {\r\n        AthenasNet.compilaTemplate('tempModalBuscar', data, '#modalBuscar .modal-content')\r\n    }\r\n\r\n    const setDetalleData = (data) => {\r\n        AthenasNet.compilaTemplate('tempDetalle', data, '#tb-detalle #det-body')\r\n    }\r\n\r\n    const abreModalPedido = () => {\r\n        $('#modalDetPedido').modal('show');\r\n    }\r\n\r\n    const setModalPedidoData = (pedido) => {\r\n        AthenasNet.compilaTemplate('tempModalPedidoBody', pedido, '#modalDetPedido .modal-body')\r\n    }\r\n\r\n    const setModalPedidoDetData = (pedido) => {\r\n        AthenasNet.compilaTemplate('tempDetPedidoTbl', pedido, '#modalDetPedido .modal-body #det-body')\r\n    }\r\n\r\n    const validaEnvioPedido = (esValido) => {\r\n        if (!esValido) {\r\n            getFormPedido().classList.add('was-validated')\r\n        }\r\n        else {\r\n            getFormPedido().classList.remove('was-validated')\r\n        }\r\n    }\r\n\r\n    const validaProvSeleccionado = (esValido) => {\r\n\r\n        if (!esValido) {\r\n            document.getElementById('Proveedor.RzSocial').classList.add('is-invalid')\r\n        }\r\n        else { \r\n            document.getElementById('Proveedor.RzSocial').classList.remove('is-invalid')\r\n        }\r\n\r\n    }\r\n\r\n    const validaProdSeleccionado = (esValido) => {\r\n        debugger\r\n        if (!esValido) {\r\n            document.getElementById('Producto.Codigo').classList.add('is-invalid')\r\n        }\r\n        else {\r\n            document.getElementById('Producto.Codigo').classList.remove('is-invalid')\r\n        }\r\n\r\n    }\r\n\r\n    const validaCantidadDetalle = (esValido) => {\r\n\r\n        if (!esValido) {\r\n            document.getElementById('Producto.Cantidad').classList.add('is-invalid');\r\n        }\r\n        else {\r\n            document.getElementById('Producto.Cantidad').classList.remove('is-invalid');\r\n        }\r\n\r\n    }\r\n\r\n    const validaDetalle = (esValido) => {\r\n        \r\n        if (!esValido) {\r\n            document.getElementById('msj-error').classList.remove('d-none');\r\n        }\r\n        else {\r\n            document.getElementById('msj-error').classList.add('d-none');\r\n        }\r\n\r\n    }\r\n\r\n    return {\r\n        generarTabla,\r\n        getFiltros,\r\n        getBtnPostRecibir,\r\n        setProveedor,\r\n        setProducto,\r\n        getBtnBuscarProveedor,\r\n        getBtnBuscarProducto,\r\n        getModalBuscar,\r\n        setModalBuscarData,\r\n        setDetalleData,\r\n        getBtnAgregarDet,\r\n        getTblModalBuscar,\r\n        getModalContentBuscar,\r\n        getInputCantidad,\r\n        setTotal,\r\n        getTblDetalle,\r\n        getFormPedido,\r\n        abreModalPedido,\r\n        setModalPedidoData,\r\n        validaEnvioPedido,\r\n        validaProvSeleccionado,\r\n        validaProdSeleccionado,\r\n        validaCantidadDetalle,\r\n        validaDetalle\r\n    }\r\n\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\r\n    const tempDetPedidoTbl = document.getElementById('tempDetPedidoTbl');\r\n\r\n    if (tempDetPedidoTbl) {\r\n        Handlebars.registerPartial('tblDetPedido', tempDetPedidoTbl.innerHTML);\r\n    }\r\n    \r\n\r\n})"],"file":"pedidoLstUI.js"}